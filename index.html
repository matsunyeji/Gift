<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Happy Birthday â€” Garv</title>
<style>
:root{
  --bg: #0b3a37;
  --accent: #8bd3d6;
  --muted: #d9efe9;
}
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial; -webkit-font-smoothing:antialiased;}
body{
  background: linear-gradient(160deg, #071f1d 0%, var(--bg) 45%, #083c3a 100%);
  min-height:100vh; display:flex; align-items:center; justify-content:center; padding:32px; overflow:hidden; color:var(--muted);
}

/* CARD */
.card{
  width:94%; max-width:780px; background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.03));
  border-radius:18px; padding:28px; box-shadow: 0 20px 60px rgba(2,10,9,0.55); backdrop-filter: blur(6px) saturate(120%);
  border: 1px solid rgba(255,255,255,0.03); position:relative; overflow:hidden;
}
h1.title{font-size:clamp(1.4rem, 3.6vw, 2rem); text-align:center; color: #e8f9f6; margin-bottom:12px; letter-spacing:0.3px;}
.typing{ font-size:clamp(1rem, 2.2vw, 1.05rem); color:#e6f7f4; line-height:1.7; max-height:360px; overflow-y:auto; padding:14px 16px; border-radius:12px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border: 1px solid rgba(255,255,255,0.02); box-shadow: inset 0 4px 18px rgba(0,0,0,0.25); white-space:pre-wrap; -webkit-overflow-scrolling: touch;
}
.controls{ display:flex; gap:12px; justify-content:center; margin-top:18px;}
button.btn{ background: linear-gradient(135deg, #9ff3e9, #b8ffd6); color:#072b27; border:none; padding:12px 18px; border-radius:12px; font-weight:800; cursor:pointer; box-shadow:0 10px 30px rgba(8,34,33,0.28);
  transition: transform .16s ease, box-shadow .16s ease, opacity .2s;}
button.btn:active { transform: translateY(1px) scale(.995) }
button.btn[disabled]{ opacity:0.6; cursor:not-allowed }
.note{ margin-top:14px; font-style:italic; color:rgba(230,247,243,0.8); text-align:center;}

/* GIF POPUP */
#gifContainer{
  position:fixed; top:50%; left:50%; transform:translate(-50%, -50%) scale(0);
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  z-index:70; transition: all 0.6s cubic-bezier(.68,-0.55,.27,1.55);
}
#gifContainer.show{
  transform:translate(-50%, -50%) scale(1);
  opacity:1;
}
#gifContainer img{
  max-width:260px; border-radius:12px; box-shadow:0 12px 38px rgba(0,0,0,0.52);
}
#gifContainer .caption{
  margin-top:12px;
  text-align:center;
  font-size:1rem;
  color:#ffdcdc;
  text-shadow: 0 2px 6px rgba(0,0,0,0.45);
  max-width: 280px; line-height:1.4;
}
#gifContainer button{ margin-top:12px; }
@media(max-width:520px){ .typing{ max-height: 260px; padding:12px;} #gifContainer img{ max-width:180px;} }

/* sparkles */
.spark{position:absolute;width:8px;height:8px;border-radius:50%;background:radial-gradient(circle,#ffffff 0%, rgba(255,255,255,0.2)60%);filter:blur(.6px);opacity:.95;transform:translate(-50%,-50%);animation:spark-rise 1.2s ease-out forwards;}
@keyframes spark-rise{from{transform:translate(-50%,-50%) scale(1);opacity:1}to{transform:translate(-50%,-120%) scale(.4);opacity:0}}

/* floating/dancing GIF animation */
@keyframes floatDance {
  0% { transform: translate(-50%, -50%) translateY(0) scale(1); }
  25% { transform: translate(-50%, -50%) translateY(-8px) scale(1.03); }
  50% { transform: translate(-50%, -50%) translateY(0) scale(1); }
  75% { transform: translate(-50%, -50%) translateY(-5px) scale(1.02); }
  100% { transform: translate(-50%, -50%) translateY(0) scale(1); }
}
#gifContainer.show img { animation: floatDance 2.2s ease-in-out infinite; }

/* floating stars */
.star{
  position:absolute;
  width:4px;
  height:4px;
  background: radial-gradient(circle, #fff 0%, rgba(255,255,255,0.3) 70%);
  border-radius:50%;
  opacity:0;
  pointer-events:none;
  animation: starRise 1.5s linear forwards;
}
@keyframes starRise{
  0% { transform: translateY(0) scale(1); opacity:1; }
  100% { transform: translateY(-60px) scale(0.5); opacity:0; }
}
</style>
</head>
<body>
<main class="card" id="mainCard">
  <div id="pageContent">
    <h1 class="title">ðŸŽ‰ Happiest Birthday Garv! ðŸŽ‰</h1>
    <div id="message" class="typing"></div>
    <div class="controls">
      <button id="musicBtn" class="btn">ðŸ’— Play Music & Reveal</button>
    </div>
    <div class="note">â€” with lots of kasht taken by your homie</div>
  </div>
</main>

<!-- GIF popup -->
<div id="gifContainer">
  <img src="dancing_baby.gif" alt="Dancing baby GIF">
  <div class="caption">
    bhai jyada der tak mat jaag dark circles aa jayenge then look maxxing ka progress reset ho jayega ðŸ˜”
    Chalo so jao bday boy kal fijicks ke paper mein aag lagana hai
  </div>
  <button id="goBackBtn" class="btn">â¬… Go Back</button>
</div>

<audio id="bgMusic" src="music.mp3" preload="auto"></audio>

<script>
const MSG = `Bhaiii tysm for guiding me and explaining things to me for hours like literally saving me every single time. And fr tg that you initiated that convo in the Live Insaan server varna hum aaj dost hi nahi hote ;-; (but aap catfish hote hote bach gaye ðŸ’€).

Anyways ab toh we homies bro daily tea spilling aur aapko gossip karne mein majboor kar diya hai humne lol ðŸ˜‚.

Youâ€™re genuinely an amazing and nice guy, sabka aur mera acha sochne ke liye dhanyawaad! Just be that way alwaysâ€¦ bas thoda gym shym jao aur body banao kya pata koi aapko ched de toh Cynthia poch nahi payegi ðŸ’”ðŸ’€.

Lwky love your music taste ekdum slayyy (95% match ðŸ¥¹) and your crazy humor ðŸ’€.

Waise Sorry but I drag you into all my kands because broâ€¦ ab toh you are the fire brigade aka Taarak Mehta ðŸ˜­ðŸ™ and main obviously Jethiya ðŸ˜ƒ (ik ye line sachme ajeeb thi).

God bless you Bhauu! Enjoy your special day. Aur Get Well Soon bro!!

And all the bestest for tmrw's physics paper AAG LAGA DENAAA ðŸ”¥

Once Again Happiest birthday Garvitaa ðŸŽ€`;

const messageEl = document.getElementById('message');
const musicBtn = document.getElementById('musicBtn');
const bgm = document.getElementById('bgMusic');
const gifContainer = document.getElementById('gifContainer');
const goBackBtn = document.getElementById('goBackBtn');
const pageContent = document.getElementById('pageContent');

let idx=0, TYPE_SPEED=22;

// Typewriter
function typeStep(){
  if(idx>=MSG.length){ showGifButton(); return; }
  const ch = MSG[idx++];
  messageEl.innerHTML += (ch=='\n'?'<br>':ch);
  messageEl.scrollTop = messageEl.scrollHeight;

  if(Math.random()<0.25){
    const star = document.createElement('div');
    star.className='star';
    star.style.left=(messageEl.offsetLeft + messageEl.offsetWidth*Math.random())+'px';
    star.style.top=(messageEl.offsetTop + messageEl.offsetHeight*Math.random())+'px';
    document.body.appendChild(star);
    setTimeout(()=> star.remove(),1600);
  }

  let extra=0; if(".!?".includes(ch)) extra=140; else if(",;".includes(ch)) extra=50;
  setTimeout(typeStep, TYPE_SPEED+extra);
}

function revealWithTypewriter(){ messageEl.innerHTML=''; idx=0; typeStep(); }

// Add "A Message for You" button
function showGifButton(){
  if(document.querySelector('#pageContent button.showGifBtn')) return;
  const btn = document.createElement('button');
  btn.className='btn showGifBtn';
  btn.textContent='ðŸ’Œ A Message for You';
  pageContent.appendChild(btn);
  btn.addEventListener('click', ()=>{
    pageContent.style.display='none'; // hide card completely
    gifContainer.style.display='flex';
    setTimeout(()=> gifContainer.classList.add('show'), 20);
    spawnSparkles(35);
    btn.disabled=true;
  });
}

// Go back button
goBackBtn.addEventListener('click', ()=>{
  gifContainer.classList.remove('show');
  setTimeout(()=>{
    pageContent.style.display='block';
    messageEl.innerHTML='';
    idx=0;
    musicBtn.disabled=false;
    musicBtn.textContent='ðŸ’— Play Music & Reveal';
    const btn = document.querySelector('#pageContent button.showGifBtn');
    if(btn) btn.disabled=false;
  }, 400);
  spawnSparkles(20);
});

// Sparkles
function spawnSparkles(count=20){
  for(let i=0;i<count;i++){
    const s = document.createElement('div');
    s.className='spark';
    s.style.left=(window.innerWidth*Math.random())+'px';
    s.style.top=(window.innerHeight*Math.random())+'px';
    document.body.appendChild(s);
    setTimeout(()=> s.remove(),1200);
  }
}

// Music + typewriter
musicBtn.addEventListener('click', async ()=>{
  try{ await bgm.play(); bgm.loop=true; bgm.volume=0.82; }catch(e){console.warn('Audio play blocked', e);}
  musicBtn.disabled=true;
  musicBtn.textContent='ðŸŽµ Playing...';
  revealWithTypewriter();
});
</script>
</body>
</html>
