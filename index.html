<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Happy Birthday â€” Garv</title>

<style>
/* ===== SPACE BACKGROUND ===== */
body {
  margin: 0;
  height: 100vh;
  background: radial-gradient(circle at 30% 20%, rgba(0,255,209,0.18), transparent 55%),
              radial-gradient(circle at 70% 80%, rgba(0,180,255,0.15), transparent 55%),
              #062b28;
  background-size: cover;
  overflow: hidden;
  color: #d9efe9;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* tiny stars */
body::before {
  content: "";
  position: fixed;
  top:0; left:0; width:100%; height:100%;
  background:
    radial-gradient(2px 2px at 10% 20%, #fff8 70%, transparent 100%),
    radial-gradient(2px 2px at 80% 15%, #fff9 70%, transparent 100%),
    radial-gradient(2px 2px at 50% 70%, #fff8 70%, transparent 100%),
    radial-gradient(1.5px 1.5px at 25% 60%, #fff7 70%, transparent 100%),
    radial-gradient(1.5px 1.5px at 60% 40%, #fff7 70%, transparent 100%),
    radial-gradient(1.5px 1.5px at 90% 50%, #fff6 70%, transparent 100%);
  pointer-events: none;
  z-index: 0;
}

/* ===== CARD ===== */
.card {
  width: 94%;
  max-width: 780px;
  background: rgba(255,255,255,0.05);
  border-radius: 18px;
  padding: 28px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.45);
  backdrop-filter: blur(7px) saturate(120%);
  border: 1px solid rgba(255,255,255,0.08);
  position: relative;
  z-index: 5;
}

h1.title {
  text-align: center;
  margin-bottom: 14px;
}

.typing {
  padding: 14px;
  border-radius: 12px;
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.05);
  box-shadow: inset 0 4px 12px rgba(0,0,0,0.25);
  max-height: 360px;
  overflow-y: auto;
  white-space: pre-wrap;
  line-height: 1.6;
}

/* controls */
.controls {
  display: flex;
  justify-content: center;
  margin-top: 16px;
}

.btn {
  background: linear-gradient(135deg, #9ff3e9, #b8ffd6);
  border: none;
  padding: 12px 18px;
  border-radius: 12px;
  font-weight: 800;
  cursor: pointer;
  color: #072b27;
  box-shadow: 0 10px 30px rgba(0,0,0,0.28);
  transition: 0.15s;
}
.btn:active { transform: scale(0.97); }

.note {
  margin-top: 14px;
  text-align: center;
  font-style: italic;
  opacity: 0.8;
}

/* ===== GIF POPUP ===== */
#gifContainer {
  position: fixed;
  top: 50%; left: 50%;
  transform: translate(-50%, -50%) scale(0);
  opacity: 0;
  display: none;
  flex-direction: column;
  align-items: center;
  transition: 0.45s ease;
  z-index: 999;
}

#gifContainer.show {
  transform: translate(-50%, -50%) scale(1);
  opacity: 1;
}

#gifContainer img {
  max-width: 260px;
  border-radius: 14px;
}

.caption {
  margin-top: 12px;
  text-align: center;
  color: #ffdcdc;
  max-width: 280px;
}

</style>
</head>

<body>

<main class="card" id="mainCard">

  <div id="pageContent">
    <h1 class="title">ðŸŽ‰ Happy Birthday Garv! ðŸŽ‰</h1>

    <div id="message" class="typing"></div>

    <div class="controls">
      <button id="musicBtn" class="btn">ðŸ’— Play Music & Reveal</button>
    </div>

    <div class="note">â€” with lots of kasht taken by your homie</div>
  </div>

</main>

<!-- GIF OVERLAY -->
<div id="gifContainer">
  <img src="baby_dance.gif" alt="Cute GIF">
  <div class="caption">
    bhai jyada der tak mat jaag dark circles aa jayenge then look maxxing ka progress reset ho jayega ðŸ˜”<br>
    Chalo so jao bday boy kal fijicks ke paper mein aag lagana hai
  </div>
  <button id="goBackBtn" class="btn" style="margin-top:14px;">â¬… Go Back</button>
</div>

<audio id="bgMusic" src="music.mp3" preload="auto"></audio>

<script>
/* ==== MESSAGE ==== */
const MSG = `Bhaiii tysm for guiding me and explaining things to me for hours like literally saving me every single time. And fr tg that you initiated that convo in the Live Insaan server varna hum aaj dost hi nahi hote ;-; (but aap catfish hote hote bach gaye ðŸ’€).

Anyways ab toh we homies bro daily tea spilling aur aapko gossip karne mein majboor kar diya hai humne lol ðŸ˜‚.

Youâ€™re genuinely an amazing and nice guy, sabka aur mera acha sochne ke liye dhanyawaad! Just be that way alwaysâ€¦ bas thoda gym shym jao aur body banao kya pata koi aapko ched de toh Cynthia poch nahi payegi ðŸ’”ðŸ’€.

Lwky love your music taste ekdum slayyy (95% match ðŸ¥¹) and your crazy humor ðŸ’€.

Waise Sorry but I drag you into all my kands because broâ€¦ ab toh you are the fire brigade aka Taarak Mehta ðŸ˜­ðŸ™ and main obviously Jethiya ðŸ˜ƒ (ik ye line sachme ajeeb thi).

God bless you Bhauu! Enjoy your special day.

And all the bestest for tmrw's physics paper AAG LAGA DENAAA ðŸ”¥

Once Again Happiest birthday Garvitaa ðŸŽ€`;

const messageEl = document.getElementById("message");
const musicBtn = document.getElementById("musicBtn");
const bgm = document.getElementById("bgMusic");
const pageContent = document.getElementById("pageContent");

let idx = 0;

function typeStep() {
  if (idx >= MSG.length) {
    showGifButton();
    return;
  }
  const ch = MSG[idx++];
  messageEl.innerHTML += (ch === "\n" ? "<br>" : ch);
  messageEl.scrollTop = messageEl.scrollHeight;

  let extra = (".!?".includes(ch) ? 140 : ",;".includes(ch) ? 50 : 0);
  setTimeout(typeStep, 22 + extra);
}

function revealWithTypewriter() {
  messageEl.innerHTML = "";
  idx = 0;
  typeStep();
}

/* show GIF button */
function showGifButton() {
  const btn = document.createElement("button");
  btn.className = "btn";
  btn.textContent = "ðŸŽ Open Surprise";
  btn.style.marginTop = "14px";
  btn.onclick = showGif;

  document.querySelector(".controls").appendChild(btn);
}

/* ===== GIF POPUP ===== */
const gifContainer = document.getElementById("gifContainer");
const goBackBtn = document.getElementById("goBackBtn");

function showGif() {
  pageContent.style.display = "none";
  gifContainer.style.display = "flex";

  setTimeout(() => gifContainer.classList.add("show"), 20);
}

goBackBtn.addEventListener("click", () => {
  gifContainer.classList.remove("show");

  setTimeout(() => {
    gifContainer.style.display = "none";
    pageContent.style.display = "block";

    // reset typewriter
    messageEl.innerHTML = "";
    idx = 0;

    // reset main button
    document.querySelector(".controls").innerHTML = "";
    document.querySelector(".controls").appendChild(musicBtn);
    musicBtn.disabled = false;
    musicBtn.textContent = "ðŸ’— Play Music & Reveal";
  }, 300);
});

/* ===== MUSIC BUTTON ===== */
musicBtn.addEventListener("click", async () => {
  try {
    await bgm.play();
    bgm.loop = true;
    bgm.volume = 0.82;
  } catch (e) {}

  musicBtn.disabled = true;
  musicBtn.textContent = "ðŸŽµ Playing...";
  revealWithTypewriter();
});
</script>
</body>
</html>
